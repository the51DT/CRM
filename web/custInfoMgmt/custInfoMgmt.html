<!DOCTYPE html>
<html lang="en">
  <div data-include-path="/fragments/head.html"></div>
  <body>
    <div id="root">
      <!-- header include -->
      <header id="header">
        <div data-include-path="/fragments/header.html"></div>
      </header>
      <!-- container -->
      <div id="container">
        <!-- lnb include -->
        <nav id="lnb">
          <div data-include-path="/fragments/lnb.html"></div>
        </nav>
        <!-- contents -->
        <div id="contents">
          <div class="contents__inner">
            <h2>고객 정보 관리</h2>
            <section class="row">
              <div class="search-box">
                <div class="col-auto label">
                  <label for="entrNo" class="col-form-label">고객 번호</label>
                </div>
                <div class="col-auto">
                  <div class="input-form w400">
                    <div class="inner">
                      <input id="entrNo" name="entrNo" type="text" placeholder="가입 번호를 입력해 주세요." />
                    </div>
                  </div>
                </div>
                <div class="col-auto">
                  <button id="searchBtn" type="button" class="btn btn-dark btn-sm">조회</button>
                </div>
              </div>
            </section>

            <!-- 2025-05 신규 수정/추가 -->
            <section class="row">
              <table class="table-data">
                <colgroup>
                  <col style="width: 140px" />
                  <col />
                </colgroup>
                <tbody>
                  <tr>
                    <th>가입 번호</th>
                    <td id="searchEntrNo">
                      <div class="d-flex align-items-center gap-2">
                        <span>************8456</span>
                        <!-- 작은 버튼 임시 -->
                        <button type="button" class="btn btn-outline-dark ml-2">유선 CEM 조회</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <th>고객 잠재 불만</th>
                    <td id="ltntDstfGrd">표출 등급 : 8등급 / 비 표출 등급 : 3등급</td>
                  </tr>
                  <tr>
                    <th>VOC Lab</th>
                    <td id="vocLab">블랙아웃 현상, 요금상품 불만</td>
                  </tr>
                  <tr>
                    <th>특이사항</th>
                    <td>
                      <div class="py-3">
                        <button type="button" id="addBtn" class="btn btn-ico btn-add">추가</button>
                      </div>
                      <div id="hashGroup" class="hash-group">
                        <div class="hash">
                          <span>#일이삼사오육칠팔구</span>
                          <button type="button" class="btn-close"></button>
                        </div>
                        <div class="hash lavender">
                          <span>#lavender</span>
                          <button type="button" class="btn-close"></button>
                        </div>
                        <div class="hash lavender">
                          <span>#코드명</span>
                          <button type="button" class="btn-close"></button>
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </section>
            <section class="row">
              <h3>중간 처리 이력</h3>
              <table class="dataTable row-border hover" id="pubTable1">
                <thead>
                  <tr>
                    <th>택배/매</th>
                    <th>디스크 번호</th>
                    <th>디스크 구분</th>
                    <th>상태</th>
                    <th>작업명</th>
                    <th>상품명</th>
                    <th>서비스명</th>
                    <th>대리점명</th>
                    <th>담당기사</th>
                    <th>요청 일시</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>택배</td>
                    <td>13523463537</td>
                    <td>가입자개통타스크</td>
                    <td>처리 중</td>
                    <td>상품 변경</td>
                    <td>스마트기가_1G</td>
                    <td>U+인터넷</td>
                    <td>복구_개통-A지점</td>
                    <td>홍길동</td>
                    <td>2024-04-02 13:50</td>
                  </tr>
                </tbody>
              </table>
            </section>
            <!-- //2025-05 신규 수정/추가 -->
          </div>
        </div>
        <!-- // contents -->
      </div>
      <!-- // container -->
    </div>
  </body>
  <script src="/assets/js/plugins/jquery-3.7.1.min.js"></script>
  <script src="/assets/js/plugins/bootstrap.bundle.min.js"></script>
  <script src="/assets/js/plugins/moment-with-locales.min.js"></script>
  <script src="/assets/js/plugins/tempusdominus-bootstrap-4.js"></script>
  <script src="/assets/js/plugins/swiper-bundle.min.js"></script>
  <script src="/assets/js/plugins/dataTables.min.js"></script>
  <script src="/assets/js/plugins/jstree.min.js"></script>
  <script src="/assets/js/common.js"></script>
  <script src="/js/common2.js"></script>
  <script src="/js/chart.umd.js"></script>
  <script>
    window.addEventListener("load", function () {
      var allElements = document.getElementsByTagName("*");
      Array.prototype.forEach.call(allElements, function (el) {
        var includePath = el.dataset.includePath;
        if (includePath) {
          var HTTP = new XMLHttpRequest();
          HTTP.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
              el.outerHTML = this.responseText;
            }
          };
          HTTP.open("GET", includePath, true);
          HTTP.send();
        }
      });

      // s : 퍼블 화면 테스트 스크립트
      $("#pubTable1").DataTable({
        autoWidth: false,
        searching: false,
        responsive: true,
        ordering: false,
        info: false,
        recordsTotal: false,
        lengthChange: false,
        paging: false,
      });
  
      const lnbActiveTest = () => {
        const lnbActive = lnb.querySelector(".depth1-link.client");
        if (lnbActive) {
          const depth2 = lnbActive.nextElementSibling;
          if (depth2 && depth2.classList.contains("depth2")) {
            depth2.style.display = "block";
            const secondLi = depth2.querySelectorAll("li > a")[0];
            if (secondLi) {
              secondLi.classList.add("active");
            }
          }
        }
        if (lnbActive) {
          lnbActive.classList.add("active");
        }
      };
      setTimeout(() => {
        lnbActiveTest();
      }, 500);
      // e : 퍼블 화면 테스트 스크립트
      
    });

  </script>
</html>
